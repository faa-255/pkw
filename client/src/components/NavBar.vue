<template>
  <nav class="bg-earth-primary text-earth-base shadow-md py-3 px-6 sticky top-0 z-50">
    <div class="container mx-auto flex justify-between items-center">
      
      <router-link to="/" class="text-lg font-bold flex items-center gap-2 hover:text-white transition">
         <span class="hidden sm:inline">‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô</span>
      </router-link>
      
      <div v-if="userStore.isAuthenticated" class="flex items-center gap-3">
        
        <div class="text-right hidden sm:block">
          <div class="text-xs text-earth-light uppercase font-bold tracking-wider">
            {{ userStore.user?.role === 'teacher' ? 'üë®‚Äçüè´ ‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå' : 'üë®‚Äçüéì ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô' }}
          </div>
          <div class="text-sm font-bold text-white leading-none">
            {{ userStore.user?.name }}
          </div>
        </div>

        <button 
          @click="handleLogout" 
          class="ml-2 bg-[#6D5B4B] hover:bg-[#5C4033] text-white px-3 py-1.5 rounded text-xs font-bold transition shadow border border-[#8D7B68]"
        >
          ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
        </button>
      </div>
      
      <div v-else class="space-x-3 text-sm">
        <router-link to="/login" class="hover:text-white transition">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</router-link>
        <router-link to="/register" class="bg-earth-base text-earth-primary px-3 py-1.5 rounded font-bold hover:bg-white transition">
          ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô
        </router-link>
      </div>

    </div>
  </nav>
</template>

<script setup>
import { useUserStore } from '../stores/userStore';
const userStore = useUserStore();
const handleLogout = () => {
  if(confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà')) userStore.logout();
};
</script>